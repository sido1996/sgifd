<!-- ============================================================== -->
<!-- Start Page Content -->
<!-- ============================================================== -->
<div class="row">

    <div class="col-md-12 col-sm-12">

        <div class="material-card card">
            <div class="card-body">

                <h4 class="card-title">Répertoire des utilisateurs du système</h4>
                <h6 class="card-subtitle">
                    Liste des utilisateurs du système <br>
                    <hr>
                </h6>

                <div class="table-responsive">

                    <!--    <div class="input-group mb-3">
            <div class="input-group-prepend">
              <button class="btn btn-info" type="button"><i class="ti-pencil"></i></button>
            </div>
            <input type="text" class="form-control" autocomplete="false" [(ngModel)]="filter" placeholder="Rechercher"
              aria-label="" aria-describedby="basic-addon1">
            <div class="input-group-append">
              <button class="btn btn-success" type="button"><i class="ti-search"></i></button>
            </div>
          </div>-->

                    <!--          <nz-table #nzTable [nzData]="userList">
            <thead>
              <tr>
                <th>Nom</th>
                <th>Prénom(s)</th>
                <th>Email</th>
                <th>Username</th>
                <th>Tél</th>
                <th>État</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody>
              <ng-template ngFor let-data [ngForOf]="nzTable.data | filter:filter">
                <tr>
                  <td> {{ data.firstName }}</td>
                  <td> {{ data.lastName }}</td>
                  <td> {{ data.email }}</td>
                  <td> {{ data.username }}</td>
                  <td> {{ data.tel }}</td>
                  <td class="center text-center">
                    <span class="badge badge-danger badge-pill" *ngIf="data.accountStatus==false"
                      style="font-size: 12px;font-weight: bold;"> désactivé</span>
                    <span class="badge badge-success badge-pill" *ngIf="data.accountStatus==true"
                      style="font-size: 12px;font-weight: bold;"> activé</span>

                  </td>
                  <td>
                    <button type="button" class="btn btn-info btn-circle  btn-sm" (click)="ouvrirModifier(data.id)"><i
                        class="ti-pencil"></i> </button>
                    <button type="button" class="btn btn-danger btn-circle  btn-sm" (click)="deleteUser(data)"> <i
                        class="ti-close"></i> </button>
                    <button type="button" class="btn btn-primary btn-circle  btn-sm" (click)="ouvrirDetail(data.id)">
                      <i class="ti-info"></i></button>
                    <div class="btn-group">
                      <button type="button" class="btn btn-secondary btn-rounded dropdown-toggle" data-toggle="dropdown"
                        aria-haspopup="true" aria-expanded="false">
                        Status
                      </button>
                      <div class="dropdown-menu">
                        <a class="dropdown-item" href="javascript:void(0)"
                          (click)="desactiverDialogue(data)">Désactiver</a>
                        <a class="dropdown-item" href="javascript:void(0)" (click)="activerDialogue(data)">Activer</a>
                      </div>
                    </div>
                  </td>
                </tr>
              </ng-template>
            </tbody>
          </nz-table>-->

                    <p-table #dt [paginator]="true" [rowsPerPageOptions]="[10,25,50]" [rows]="10" [showCurrentPageReport]="true" [value]="userList" sortField="createdAt" [sortOrder]="-1">
                        <ng-template pTemplate="header">
                            <tr>
                                <th pSortableColumn="firstName">Nom
                                    <p-sortIcon field="firstName"></p-sortIcon>
                                </th>
                                <th pSortableColumn="lastName">Prénom(s)
                                    <p-sortIcon field="lastName"></p-sortIcon>
                                </th>
                                <th pSortableColumn="email">Email
                                    <p-sortIcon field="email"></p-sortIcon>
                                </th>
                                <th pSortableColumn="username">Username
                                    <p-sortIcon field="username"></p-sortIcon>
                                </th>
                                <th pSortableColumn="tel">Tél
                                    <p-sortIcon field="tel"></p-sortIcon>
                                </th>
                                <th pSortableColumn="accountStatus">État
                                    <p-sortIcon field="accountStatus"></p-sortIcon>
                                </th>
                                <th class="text-center">Action</th>
                            </tr>
                            <tr class="title-filter-table">
                                <th>
                                    <nz-input-group [nzSuffix]="suffixIconSearch">
                                        <input (input)="dt.filter($event.target.value, 'firstName', 'contains')" nz-input placeholder="Rechercher" type="text" />
                                    </nz-input-group>
                                    <ng-template #suffixIconSearch>
                                        <i nz-icon nzType="search"></i>
                                    </ng-template>
                                </th>
                                <th>
                                    <nz-input-group [nzSuffix]="suffixIconSearch">
                                        <input (input)="dt.filter($event.target.value, 'lastName', 'contains')" nz-input placeholder="Rechercher" type="text" />
                                    </nz-input-group>
                                    <ng-template #suffixIconSearch>
                                        <i nz-icon nzType="search"></i>
                                    </ng-template>
                                </th>
                                <th>
                                    <nz-input-group [nzSuffix]="suffixIconSearch">
                                        <input (input)="dt.filter($event.target.value, 'email', 'contains')" nz-input placeholder="Rechercher" type="text" />
                                    </nz-input-group>
                                    <ng-template #suffixIconSearch>
                                        <i nz-icon nzType="search"></i>
                                    </ng-template>
                                </th>
                                <th>
                                    <nz-input-group [nzSuffix]="suffixIconSearch">
                                        <input (input)="dt.filter($event.target.value, 'username', 'contains')" nz-input placeholder="Rechercher" type="text" />
                                    </nz-input-group>
                                    <ng-template #suffixIconSearch>
                                        <i nz-icon nzType="search"></i>
                                    </ng-template>
                                </th>
                                <th>
                                    <nz-input-group [nzSuffix]="suffixIconSearch">
                                        <input (input)="dt.filter($event.target.value, 'tel', 'contains')" nz-input placeholder="Rechercher" type="text" />
                                    </nz-input-group>
                                    <ng-template #suffixIconSearch>
                                        <i nz-icon nzType="search"></i>
                                    </ng-template>
                                </th>
                                <th>
                                    <nz-input-group [nzSuffix]="suffixIconSearch">
                                        <input (input)="dt.filter($event.target.value, 'accountStatus', 'contains')" nz-input placeholder="Rechercher" type="text" />
                                    </nz-input-group>
                                    <ng-template #suffixIconSearch>
                                        <i nz-icon nzType="search"></i>
                                    </ng-template>
                                </th>
                                <th class="text-center">#</th>
                            </tr>
                        </ng-template>
                        <ng-template let-user pTemplate="body">
                            <tr>
                                <td>{{ user.firstName }}</td>
                                <td>{{ user.lastName }}</td>
                                <td>{{ user.email }}</td>
                                <td>{{ user.username }}</td>
                                <td>{{ user.tel }}</td>
                                <td class="center text-center">
                                    <span class="badge badge-danger badge-pill" *ngIf="user.accountStatus==false" style="font-size: 12px;font-weight: bold;"> désactivé</span>
                                    <span class="badge badge-success badge-pill" *ngIf="user.accountStatus==true" style="font-size: 12px;font-weight: bold;"> activé</span>
                                </td>
                                <td class="text-center">
                                    <button type="button" class="btn btn-info btn-circle  btn-sm" (click)="ouvrirModifier(user.id)"><i
                    class="ti-pencil"></i> </button>
                                    <button type="button" class="btn btn-danger btn-circle  btn-sm" (click)="deleteUser(user)"> <i
                    class="ti-close"></i> </button>
                                    <button type="button" class="btn btn-primary btn-circle  btn-sm" (click)="ouvrirDetail(user.id)">
                    <i class="ti-info"></i></button>
                                    <div class="btn-group">
                                        <button type="button" class="btn btn-secondary btn-rounded dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                      Status
                    </button>
                                        <div class="dropdown-menu">
                                            <a class="dropdown-item" href="javascript:void(0)" (click)="desactiverDialogue(user)">Désactiver</a>
                                            <a class="dropdown-item" href="javascript:void(0)" (click)="activerDialogue(user)">Activer</a>
                                        </div>
                                    </div>
                                </td>
                            </tr>

                        </ng-template>
                    </p-table>

                </div>

            </div>
        </div>
    </div>

</div>
<!-- ============================================================== -->
<!-- End PAge Content -->
<!-- ============================================================== -->