<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="6_RCD" language="java" pageWidth="842" pageHeight="595" orientation="Landscape" columnWidth="802" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="a559f8ab-4404-4de2-81b1-17ba912bc440">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<style name="Crosstab Data Text" hAlign="Center"/>
	<parameter name="annee_Debut" class="java.lang.String"/>
	<parameter name="annee_Fin" class="java.lang.String"/>
	<parameter name="logoEntete" class="java.lang.String"/>
	<parameter name="logoFooter" class="java.lang.String"/>
	<queryString>
		<![CDATA[
SELECT sRequete1.ANNEE, sRequete1.DOMAINE_PTF, sRequete2.MONTANT
FROM
(SELECT ta.libelle AS ANNEE,  d.libelle AS DOMAINE_PTF
FROM t_domaineptf d, t_annee ta
WHERE ta.status = false
AND d.status = false
 AND ta.libelle BETWEEN $P{annee_Debut} AND  $P{annee_Fin}
) sRequete1 LEFT JOIN

(SELECT  a.libelle AS ANNEE, d.libelle AS DOMAINE_PTF, SUM(t.montant_ressource_decaisser_fcfa) AS MONTANT
FROM t_ptfbailleur_frs_domaineptfs p, t_annee, t_ressource_exterieure tr, t_annee a,
t_ressource_exterieure_annuelle t, t_domaineptf d
WHERE t.annee_id = a.id
AND tr.ptfbailleur_frs_id = p.ptfbailleur_frs_id
AND t.ressource_exterieure_id = tr.id
AND p.domaineptfs_id = d.id
AND a.libelle BETWEEN $P{annee_Debut} AND  $P{annee_Fin}
GROUP BY a.libelle, d.libelle) sRequete2 ON sRequete1.DOMAINE_PTF = sRequete2.DOMAINE_PTF AND sRequete1.ANNEE = sRequete2.ANNEE

ORDER BY sRequete1.ANNEE, sRequete1.DOMAINE_PTF  ASC]]>
	</queryString>
	<field name="annee" class="java.lang.String"/>
	<field name="domaine_ptf" class="java.lang.String"/>
	<field name="montant" class="java.lang.Double"/>
	<summary>
		<band height="555" splitType="Stretch">
			<line>
				<reportElement x="325" y="153" width="109" height="1" forecolor="#009999" uuid="ac601ebc-9bb1-4fb1-a928-086689ec4602"/>
			</line>
			<staticText>
				<reportElement x="149" y="122" width="483" height="23" uuid="1508c64b-b977-4d1e-a5d9-0f3b0658bf49"/>
				<textElement textAlignment="Center">
					<font fontName="Verdana" size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[EVOLUTION DES FINANCEMENTS PAR TYPE D'INTERVENTION]]></text>
			</staticText>
			<image>
				<reportElement x="4" y="10" width="337" height="89" uuid="c773234c-d72a-424d-9a91-7e48a5f933d3"/>
				<imageExpression><![CDATA["D:\\PROJETs\\Spring-boot\\mpd\\src\\main\\resources\\rapports\\logo\\logo-mpd.png"]]></imageExpression>
			</image>
			<staticText>
				<reportElement x="367" y="31" width="396" height="56" uuid="00d478a1-0da4-48e4-8ebe-721eb3abb6d5"/>
				<textElement textAlignment="Center">
					<font fontName="Verdana" size="18" isBold="true"/>
				</textElement>
				<text><![CDATA[DIRECTION GENERALE DU FINANCEMENT DU DEVELOPPEMENT]]></text>
			</staticText>
			<line>
				<reportElement x="504" y="89" width="109" height="1" forecolor="#009999" uuid="76f3823d-9015-470a-be30-f0dbcbb976e8"/>
			</line>
			<crosstab>
				<reportElement x="16" y="201" width="786" height="296" uuid="80a518cb-7429-4256-9efc-6e1fcdc2b17d"/>
				<rowGroup name="domaine_ptf" width="70" totalPosition="End">
					<bucket class="java.lang.String">
						<bucketExpression><![CDATA[$F{domaine_ptf}]]></bucketExpression>
					</bucket>
					<crosstabRowHeader>
						<cellContents backcolor="#008B8B" mode="Opaque">
							<box>
								<pen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
							</box>
							<textField>
								<reportElement style="Crosstab Data Text" x="4" y="3" width="66" height="37" forecolor="#FFFFFF" uuid="9018c384-75b6-4e01-9b1b-fbe93d1e7c70"/>
								<textElement textAlignment="Left" verticalAlignment="Middle">
									<font size="8"/>
									<paragraph leftIndent="5" rightIndent="5"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{domaine_ptf}]]></textFieldExpression>
							</textField>
						</cellContents>
					</crosstabRowHeader>
					<crosstabTotalRowHeader>
						<cellContents backcolor="#BFFFFF" mode="Opaque">
							<box>
								<pen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
							</box>
							<staticText>
								<reportElement x="0" y="10" width="70" height="25" uuid="8f81860f-7239-4ce0-b6ff-afa2576f34e3"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font isBold="true"/>
								</textElement>
								<text><![CDATA[TOTAL]]></text>
							</staticText>
						</cellContents>
					</crosstabTotalRowHeader>
				</rowGroup>
				<columnGroup name="annee" height="30" totalPosition="End">
					<bucket class="java.lang.String">
						<bucketExpression><![CDATA[$F{annee}]]></bucketExpression>
					</bucket>
					<crosstabColumnHeader>
						<cellContents backcolor="#008B8B" mode="Opaque">
							<box>
								<pen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
							</box>
							<textField>
								<reportElement style="Crosstab Data Text" x="0" y="0" width="67" height="30" forecolor="#FFFFFF" uuid="7d35d159-8c0a-44fd-bf17-24ab7b77d02e"/>
								<textElement verticalAlignment="Middle"/>
								<textFieldExpression><![CDATA[$V{annee}]]></textFieldExpression>
							</textField>
						</cellContents>
					</crosstabColumnHeader>
					<crosstabTotalColumnHeader>
						<cellContents backcolor="#BFFFFF" mode="Opaque">
							<box>
								<pen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
							</box>
							<staticText>
								<reportElement x="0" y="0" width="71" height="30" uuid="e53f4daa-c10b-439f-b93b-7c421679a29b"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font isBold="true"/>
								</textElement>
								<text><![CDATA[TOTAL]]></text>
							</staticText>
						</cellContents>
					</crosstabTotalColumnHeader>
				</columnGroup>
				<measure name="montantMeasure" class="java.lang.Double" calculation="Sum">
					<measureExpression><![CDATA[$F{montant}]]></measureExpression>
				</measure>
				<crosstabCell width="67" height="45">
					<cellContents>
						<box>
							<pen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						</box>
						<textField pattern="#,##0">
							<reportElement style="Crosstab Data Text" x="0" y="7" width="67" height="30" uuid="71056e57-c0e9-4507-8ceb-6bca2f521aa2"/>
							<textElement textAlignment="Right" verticalAlignment="Middle">
								<paragraph rightIndent="5"/>
							</textElement>
							<textFieldExpression><![CDATA[$V{montantMeasure}]]></textFieldExpression>
						</textField>
					</cellContents>
				</crosstabCell>
				<crosstabCell width="67" height="42" rowTotalGroup="domaine_ptf">
					<cellContents backcolor="#BFFFFF" mode="Opaque">
						<box>
							<pen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						</box>
						<textField pattern="#,##0">
							<reportElement style="Crosstab Data Text" x="0" y="3" width="67" height="36" uuid="3e7b3748-7ccc-4e69-88cf-8c7d7b34efde"/>
							<textElement textAlignment="Right" verticalAlignment="Middle">
								<font isBold="true"/>
								<paragraph rightIndent="5"/>
							</textElement>
							<textFieldExpression><![CDATA[$V{montantMeasure}]]></textFieldExpression>
						</textField>
					</cellContents>
				</crosstabCell>
				<crosstabCell width="71" height="45" columnTotalGroup="annee">
					<cellContents backcolor="#BFFFFF" mode="Opaque">
						<box>
							<pen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						</box>
						<textField pattern="#,##0">
							<reportElement style="Crosstab Data Text" x="0" y="7" width="71" height="30" uuid="f6aa3725-00ca-4433-a625-819c050f3eb3"/>
							<textElement textAlignment="Right" verticalAlignment="Middle">
								<font isBold="true"/>
								<paragraph rightIndent="5"/>
							</textElement>
							<textFieldExpression><![CDATA[$V{montantMeasure}]]></textFieldExpression>
						</textField>
					</cellContents>
				</crosstabCell>
				<crosstabCell width="71" height="42" rowTotalGroup="domaine_ptf" columnTotalGroup="annee">
					<cellContents backcolor="#BFFFFF" mode="Opaque">
						<box>
							<pen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						</box>
						<textField pattern="#,##0">
							<reportElement style="Crosstab Data Text" x="0" y="3" width="71" height="36" uuid="435ae236-21f3-425a-a2fb-86fe65d4f488"/>
							<textElement textAlignment="Right" verticalAlignment="Middle">
								<font isBold="true"/>
								<paragraph rightIndent="5"/>
							</textElement>
							<textFieldExpression><![CDATA[$V{montantMeasure}]]></textFieldExpression>
						</textField>
					</cellContents>
				</crosstabCell>
			</crosstab>
			<textField>
				<reportElement x="341" y="165" width="60" height="20" uuid="ddc65575-8c58-43a4-990d-a43cd6b86e67"/>
				<textElement textAlignment="Center"/>
				<textFieldExpression><![CDATA[$P{annee_Debut}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="438" y="165" width="100" height="20" uuid="8ac80a2d-9618-46af-8d0a-a5e050c739e5"/>
				<textFieldExpression><![CDATA[$P{annee_Fin}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="227" y="166" width="114" height="20" uuid="28f4e2af-963c-4b99-b9d9-40709caee730"/>
				<textElement textAlignment="Right"/>
				<text><![CDATA[PERIODE  DE]]></text>
			</staticText>
			<staticText>
				<reportElement x="406" y="166" width="16" height="20" uuid="4630d510-502c-47f9-91c1-a4fc10f96b91"/>
				<text><![CDATA[A]]></text>
			</staticText>
		</band>
	</summary>
</jasperReport>
